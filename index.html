<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>จองคอร์สอาหาร Double Chic Hotel</title>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 20px;
            background: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        h1, h2 {
            text-align: center;
            color: #a0522d;
        }

        /* --- ส่วนแสดงคอร์สอาหาร --- */
        .course-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-top: 20px;
        }

        .course-card {
            background: #fff8e1;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px;
            width: 180px; 
            text-align: center;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.05);
            cursor: pointer; 
        }

        .course-card:hover {
            box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
            transition: all 0.2s ease-in-out;
        }

        .course-image {
            height: 100px;
            width: 100%; 
            margin-bottom: 10px;
            border-radius: 4px;
            overflow: hidden; 
            display: flex; 
            justify-content: center;
            align-items: center;
        }

        .course-image img {
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            display: block; 
        }

        .course-card h3 {
            margin-top: 0;
            color: #4a4a4a;
        }

        .course-card p {
            font-size: 0.9em;
            color: #666;
        }

        .course-card button {
            background-color: #a0522d;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        .course-card button:hover {
            background-color: #8b4513;
        }

        /* --- ส่วนฟอร์มการจอง --- */
        #booking-details, #confirmation {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #f0e68c;
            border-radius: 8px;
            background-color: #fffaf0;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input[type="date"],
        .form-group input[type="email"],
        .form-group input[type="number"] { /* เพิ่ม input type number */
            width: 98%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .confirm-button {
            width: 100%;
            padding: 15px;
            background-color: #3cb371;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
        }

        .confirm-button:hover {
            background-color: #2e8b57;
        }

        .payment-info {
            background-color: #fff;
        }
        
        .price-summary {
            margin-top: 15px;
            padding: 10px;
            border: 1px dashed #a0522d;
            background-color: #fffaf0;
        }

        .price-summary strong {
            font-size: 1.1em;
            color: #a0522d;
        }
    </style>
    
</head>
<body>

    <div class="container">
        <h1>จองคอร์สอาหาร Double Chic Hotel</h1>

        <section id="course-selection">
            <h2>1. เลือกคอร์สอาหาร (5 คอร์ส)</h2>
            <div class="course-list">
                
                <div class="course-card" data-course="Thai">
                    <div class="course-image" onclick="openModal('thai_course.jpg', 'Thai Course: สัมผัสรสชาติจัดจ้านแบบไทยดั้งเดิม')">
                        <img src="thai_course.jpg" alt="รูปภาพคอร์สอาหารไทย">
                    </div>
                    <h3>Thai Course</h3>
                    <p>สัมผัสรสชาติจัดจ้านแบบไทยดั้งเดิม</p>
                    <button onclick="selectCourse('Thai')">จองคอร์ส Thai</button>
                </div>

                <div class="course-card" data-course="American">
                    <div class="course-image" onclick="openModal('american_course.jpg', 'American Course: เมนูคลาสสิกสไตล์อเมริกัน')">
                        <img src="american_course.jpg" alt="รูปภาพคอร์สอาหารอเมริกัน">
                    </div>
                    <h3>American Course</h3>
                    <p>เมนูคลาสสิกสไตล์อเมริกัน</p>
                    <button onclick="selectCourse('American')">จองคอร์ส American</button>
                </div>

                <div class="course-card" data-course="Chinese">
                    <div class="course-image" onclick="openModal('chinese_course.jpg', 'Chinese Course: อาหารจีนตำรับโบราณรสเลิศ')">
                        <img src="chinese_course.jpg" alt="รูปภาพคอร์สอาหารจีน">
                    </div>
                    <h3>Chinese Course</h3>
                    <p>อาหารจีนตำรับโบราณรสเลิศ</p>
                    <button onclick="selectCourse('Chinese')">จองคอร์ส Chinese</button>
                </div>

                <div class="course-card" data-course="French">
                    <div class="course-image" onclick="openModal('french_course.jpg', 'French Course: ศิลปะแห่งการทำอาหารฝรั่งเศส')">
                        <img src="french_course.jpg" alt="รูปภาพคอร์สอาหารฝรั่งเศส">
                    </div>
                    <h3>French Course</h3>
                    <p>ศิลปะแห่งการทำอาหารฝรั่งเศส</p>
                    <button onclick="selectCourse('French')">จองคอร์ส French</button>
                </div>

                <div class="course-card" data-course="Omakase">
                    <div class="course-image" onclick="openModal('omakase_course.jpg', 'Omakase Course: ประสบการณ์สุดพิเศษจากเชฟ')">
                        <img src="omakase_course.jpg" alt="รูปภาพคอร์ส Omakase">
                    </div>
                    <h3>Omakase Course</h3>
                    <p>ประสบการณ์สุดพิเศษจากเชฟ</p>
                    <button onclick="selectCourse('Omakase')">จองคอร์ส Omakase</button>
                </div>
            </div>
        </section>

        <section id="booking-details" style="display:none;">
            <h2>2. ยืนยันการจองและชำระเงิน</h2>
            <form id="booking-form">
                <p>คอร์สที่เลือก: <strong id="selected-course-display"></strong> (ราคาต่อท่าน: <strong id="price-per-guest"></strong> บาท)</p>

                <div class="form-group">
                    <label for="guest-count">จำนวนผู้เข้าใช้บริการ (ท่าน):</label>
                    <input type="number" id="guest-count" name="guest-count" min="1" value="1" oninput="updateTotalPrice()" required>
                </div>
                
                <div class="price-summary">
                    ยอดเงินรวมทั้งหมด: <strong id="total-price-display">0</strong> บาท
                </div>

                <div class="form-group">
                    <label for="dining-date">เลือกวันมารับประทาน:</label>
                    <input type="date" id="dining-date" name="dining-date" required>
                </div>

                <div class="form-group">
                    <label for="email">อีเมล (ใช้เป็นช่องทางการยืนยันการจอง):</label>
                    <input type="email" id="email" name="email" placeholder="youremail@example.com" required>
                </div>
                
                <div class="form-group">
                    <label>3. เลือกช่องทางการชำระเงิน:</label><br>
                    
                    <input type="radio" id="payment-qr" name="payment-method" value="QR_Code" required>
                    <label for="payment-qr">1. QR Code</label><br>

                    <input type="radio" id="payment-bank" name="payment-method" value="Bank_Transfer">
                    <label for="payment-bank">2. โอนเงินผ่านธนาคาร</label>
                    
                    <div id="bank-info" class="payment-info" style="display:none; margin-top: 10px; padding: 10px; border: 1px solid #ccc;">
                        <strong>ธนาคาร:</strong> Double Chic Hotel<br>
                        <strong>เลขที่บัญชี:</strong> 1234567890
                    </div>

                    <div id="qr-info" class="payment-info" style="display:none; margin-top: 10px; padding: 10px; border: 1px solid #ccc;">
                        **โปรดสแกน QR Code เพื่อชำระเงิน**<br>
                        <img src="qr_code_placeholder.png" alt="QR Code สำหรับชำระเงิน" style="max-width: 150px; height: auto; margin-top: 10px;">
                    </div>
                </div>

                <button type="button" id="confirm-booking-btn" class="confirm-button">ยืนยันการจอง</button>
            </form>
        </section>

        <section id="confirmation" style="display:none;">
            <h2>การจองเสร็จสมบูรณ์!</h2>
            <p>ขอบคุณสำหรับการจองคอร์สอาหาร</p>
            <p>รายละเอียดการจองจะถูกส่งไปยังอีเมลของคุณ: <strong id="confirmed-email"></strong></p>
            <p>คอร์ส: <strong id="confirmed-course"></strong></p>
            <p>จำนวนผู้เข้าใช้บริการ: <strong id="confirmed-guests"></strong> ท่าน</p>
            <p>ยอดเงินรวมที่ต้องชำระ: <strong id="confirmed-total"></strong> บาท</p>
            <p>วันที่มารับประทาน: <strong id="confirmed-date"></strong></p>
            <p>ช่องทางชำระเงิน: <strong id="confirmed-payment"></strong></p>
        </section>
    </div>

    <div id="imageModal" class="modal">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="img01">
        <div id="caption" class="modal-caption"></div>
    </div>

    <script>
        let selectedCourse = '';
        let coursePrice = 0; // ราคาต่อท่านสำหรับคอร์สที่เลือก

        // กำหนดราคาคอร์สต่อท่าน
        const COURSE_PRICES = {
            'Thai': 890,
            'American': 1200,
            'Chinese': 1500,
            'French': 2500,
            'Omakase': 5000
        };

        // ฟังก์ชันคำนวณยอดเงินรวม
        function updateTotalPrice() {
            const guestCount = parseInt(document.getElementById('guest-count').value) || 0;
            const totalPrice = coursePrice * guestCount;
            document.getElementById('total-price-display').textContent = totalPrice.toLocaleString('th-TH');
            return totalPrice;
        }

        // ฟังก์ชันสำหรับเลือกคอร์ส
        function selectCourse(courseName) {
            selectedCourse = courseName;
            coursePrice = COURSE_PRICES[courseName];

            // 1. อัปเดตข้อมูลและราคาต่อท่าน
            document.getElementById('selected-course-display').textContent = selectedCourse;
            document.getElementById('price-per-guest').textContent = coursePrice.toLocaleString('th-TH');

            // 2. ตั้งค่าเริ่มต้นจำนวนคนเป็น 1 และคำนวณยอดรวม
            document.getElementById('guest-count').value = 1;
            updateTotalPrice();

            // 3. ซ่อน/แสดงส่วน
            document.getElementById('course-selection').style.display = 'none';
            document.getElementById('booking-details').style.display = 'block';
            document.getElementById('booking-details').scrollIntoView({ behavior: 'smooth' });
        }

        // ฟังก์ชันจัดการการแสดงข้อมูลการชำระเงิน
        document.querySelectorAll('input[name="payment-method"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const bankInfo = document.getElementById('bank-info');
                const qrInfo = document.getElementById('qr-info');
                
                bankInfo.style.display = 'none';
                qrInfo.style.display = 'none';

                if (this.value === 'Bank_Transfer') {
                    bankInfo.style.display = 'block';
                } else if (this.value === 'QR_Code') {
                    qrInfo.style.display = 'block';
                }
            });
        });


        // จัดการเมื่อคลิกปุ่มยืนยันการจอง
        document.getElementById('confirm-booking-btn').addEventListener('click', function() {
            
            const diningDate = document.getElementById('dining-date').value;
            const email = document.getElementById('email').value;
            const guestCount = parseInt(document.getElementById('guest-count').value);
            const paymentMethodElement = document.querySelector('input[name="payment-method"]:checked');
            
            // การตรวจสอบความถูกต้อง
            if (guestCount <= 0 || isNaN(guestCount) || !diningDate || !email) {
                alert('โปรดกรอกข้อมูลการจองให้ครบถ้วนและถูกต้อง (จำนวนผู้เข้าใช้บริการต้องมากกว่า 0)');
                return;
            }
            if (!paymentMethodElement) {
                alert('โปรดเลือกช่องทางการชำระเงิน');
                return;
            }
            
            const paymentMethod = paymentMethodElement.value;
            const totalPrice = updateTotalPrice(); // คำนวณยอดเงินรวมครั้งสุดท้าย
            
            // แปลงชื่อช่องทางชำระเงิน
            let paymentText = '';
            if (paymentMethod === 'QR_Code') {
                paymentText = 'QR Code';
            } else if (paymentMethod === 'Bank_Transfer') {
                paymentText = 'โอนเงินผ่านธนาคาร (Double Chic Hotel: 1234567890)';
            }

            // แสดงผลลัพธ์การยืนยัน
            document.getElementById('confirmed-course').textContent = selectedCourse;
            document.getElementById('confirmed-date').textContent = diningDate;
            document.getElementById('confirmed-email').textContent = email;
            document.getElementById('confirmed-payment').textContent = paymentText;
            
            // แสดงจำนวนคนและยอดรวม
            document.getElementById('confirmed-guests').textContent = guestCount;
            document.getElementById('confirmed-total').textContent = totalPrice.toLocaleString('th-TH');


            // ซ่อน/แสดงส่วน
            document.getElementById('booking-details').style.display = 'none';
            const confirmationSection = document.getElementById('confirmation');
            confirmationSection.style.display = 'block';

            confirmationSection.scrollIntoView({ behavior: 'smooth' });

            alert('การจองคอร์สอาหารเสร็จสมบูรณ์! โปรดตรวจสอบอีเมลของคุณ');
        });

        /* --- JavaScript สำหรับ Modal (LightBox) --- */
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("img01");
        const captionText = document.getElementById("caption");
        const span = document.getElementsByClassName("close-modal")[0];

        function openModal(imageSrc, imageAlt) {
            modal.style.display = "block";
            modalImg.src = imageSrc;
            captionText.innerHTML = imageAlt;
        }

        span.onclick = function() { 
            modal.style.display = "none";
        }
        modal.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script> 
</body>
</html>